<header [style]="Scrolled ? { backgroundColor: 'white' } : ''">
  <div
    class="pl-2 lg:px-5 flex justify-content-between align-items-center"
    style="padding-right: 20px; height: 70px"
  >
    <div class="flex align-items-center">
      <a routerLink="/" class="navbar-logo">
        @if (isRoute('') && !Scrolled) {
        <span class="text-0">
          <span class="x-primary">J</span>ob<span class="x-primary">M</span
          >aster</span
        >
        }@else {
        <span class="text-gray-800"
          ><span class="x-primary">J</span>ob<span class="x-primary">M</span
          >aster</span
        >
        }
      </a>
    </div>

    @if (!isRoute('auth')) {

    <div class="flex align-items-center gap-3">
      <!-- <i class="pi pi-bell text-xl"></i>
      <i class="pi pi-envelope text-xl"></i> -->

      <!-- HOME LINKS --><!-- ELSE --><!-- USER ICON BUTTON -->
      @if (!userData) {
      <!-- MD LINKS -->
      <div class="gap-3 hidden md:flex">
        <a
          pRipple
          (click)="changeLang()"
          [classList]="
            'flex align-items-center justify-content-between cursor-pointer p-2 px-3 x-font-roboto gap-2 ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
          routerLink="/joblisting"
        >
          <i class="pi pi-globe"></i>
          <span class="font-medium">Recent jobs</span>
        </a>
        <!-- LANGUAGE -->
        <a
          pRipple
          (click)="changeLang()"
          [classList]="
            'flex align-items-center justify-content-between cursor-pointer p-2 px-3 x-font-roboto gap-2 ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
        >
          <i class="pi pi-globe"></i>
          <span class="font-medium">Francais</span>
        </a>
        <!-- LOGIN -->
        <a
          pRipple
          routerLink="/auth/login"
          [classList]="
            'flex align-items-center justify-content-between cursor-pointer p-2 px-3 x-font-roboto ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
        >
          <span class="font-medium">Login</span>
        </a>
        <div
          style="width: 2px; height: 30px"
          [classList]="Scrolled || !isRoute('') ? 'bg-gray-500' : 'bg-white'"
        ></div>
        <!-- EMPLOYER -->
        <a
          pRipple
          routerLink="/auth/login"
          [classList]="
            'flex align-items-center justify-content-between cursor-pointer p-2 px-3 ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
        >
          <span class="font-medium">Employers / Post Job</span>
        </a>
      </div>
      <!--MD SIDEBAR -->
      <div class="md:hidden">
        <p-sidebar #sidebarRef [(visible)]="sidebarVisible" position="right">
          <ng-template pTemplate="headless">
            <div class="flex flex-column h-full">
              <!-- HEADER -->
              <div
                class="flex align-items-center justify-content-between px-4 pt-3 flex-shrink-0"
              >
                <span class="inline-flex align-items-center gap-2">
                  <p-button
                    severity="success"
                    type="link"
                    routerLink="/auth/register"
                    (click)="closeCallback($event)"
                    styleClass="font-medium"
                    >Join JobMaster</p-button
                  >
                </span>
                <span>
                  <p-button
                    type="button"
                    (click)="closeCallback($event)"
                    icon="pi pi-times"
                    [outlined]="true"
                    styleClass="h-3rem w-3rem text-red-400"
                  ></p-button>
                </span>
              </div>
              <!-- BODY -->
              <div class="overflow-y-auto">
                <ul class="list-none pt-2 px-3 m-0">
                  <li>
                    <ul class="list-none p-0 m-0 overflow-hidden">
                      <li>
                        <a
                          pRipple
                          routerLink="/auth/login"
                          class="flex align-items-center cursor-pointer p-2 px-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple"
                        >
                          <span class="font-medium">Log In</span>
                        </a>
                      </li>
                      <li>
                        <a
                          pRipple
                          routerLink="/joblisting"
                          class="flex align-items-center cursor-pointer p-2 px-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple"
                        >
                          <span class="font-medium">Recent Jobs</span>
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
                <ul class="list-none p-2 px-3 m-0">
                  <li>
                    <div
                      pRipple
                      class="p-3 flex align-items-center justify-content-between text-600 cursor-pointer p-ripple"
                    >
                      <span class="font-medium">General</span>
                    </div>
                    <ul class="list-none p-0 m-0 overflow-hidden">
                      <li>
                        <a
                          pRipple
                          routerLink="/"
                          class="flex align-items-center gap-2 cursor-pointer p-2 px-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple"
                        >
                          <i class="pi pi-home"></i>
                          <span class="font-medium">Home</span>
                        </a>
                      </li>
                      <li>
                        <a
                          pRipple
                          (click)="changeLang()"
                          class="flex align-items-center justify-content-between cursor-pointer p-2 px-3 border-round text-700 hover:surface-100 transition-duration-150 transition-colors p-ripple"
                        >
                          <span class="flex gap-2 align-items-center">
                            <i class="pi pi-globe"></i>
                            <span class="font-medium">Francais</span>
                          </span>
                          <!-- <i class="pi pi-chevron-down"></i> -->
                        </a>
                      </li>
                    </ul>
                  </li>
                </ul>
              </div>
            </div>
          </ng-template>
        </p-sidebar>

        @if (Scrolled || !isRoute(['']) ) {
        <p-button
          type="button"
          (click)="searchVisible = !searchVisible"
          [icon]="searchVisible ? 'pi pi-times' : 'pi pi-search'"
          [severity]="searchVisible ? 'danger' : 'success'"
          [outlined]="true"
          [styleClass]="
            'mr-3 h-3rem w-3rem ' +
            (searchVisible
              ? ''
              : Scrolled || !isRoute('')
              ? 'x-primary'
              : 'text-white')
          "
        ></p-button>
        }
        <p-button
          type="button"
          (click)="sidebarVisible = true"
          icon="pi pi-bars"
          [outlined]="true"
          [styleClass]="
            Scrolled || !isRoute('')
              ? 'h-3rem w-3rem x-primary'
              : 'h-3rem w-3rem text-white'
          "
        ></p-button>
      </div>
      }@else {
      <div class="card flex justify-content-center align-items-center gap-4">
        <i
          [classList]="
            'pi pi-bell text-xl cursor-pointer ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
        ></i>
        <i
          [classList]="
            'pi pi-envelope text-xl cursor-pointer ' +
            (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
          "
        ></i>

        <button
          style="all: unset; display: flex; align-items: end; cursor: pointer"
          (click)="menu.toggle($event)"
        >
          <i
            [classList]="
              'pi pi-user text-xl border-1 p-2 border-circle ' +
              (Scrolled || !isRoute('') ? 'text-gray-500' : 'text-white')
            "
          ></i>
        </button>
        <p-tieredMenu #menu [model]="items" [popup]="true"></p-tieredMenu>
      </div>
      }
    </div>

    }
  </div>
  @if ( (isRoute(['']) && Scrolled) ||isRoute(['joblisting','jobdetail'])) {
  <div
    class="flex-column row-gap-3 overflow-hidden md:overflow-visible md:flex-row flex md:h-fit bg-white"
    [style]="
      +searchVisible
        ? {
            transition: 'all 0.3s ease-in-out',
            minHeight: '1rem',
            height: 'calc(100vh - 72px)'
          }
        : { transition: 'all 0.3s ease-in-out', height: 0 }
    "
  >
    <!-- SEARCH SERVICE -->
    <div class="w-full mt-3 md:mt-0">
      <p-autoComplete
        [showEmptyMessage]="false"
        [emptyMessage]=""
        [(ngModel)]="selectedService"
        [suggestions]="serviceSuggestions"
        (completeMethod)="searchJob($event)"
        field="name"
        placeholder="Job title, Keyword or company..."
        [inputStyle]="{
                  width: '100%',
                  height:'100%',
                }"
        [style]="{
          height: '100%',
          width: '100%'
        }"
        inputStyleClass="border-noround"
        (keyup.enter)="searchClient()"
      ></p-autoComplete>
    </div>

    <!-- SEARCH BUTTON -->
    <button
      class="search-link font-medium md:h-0"
      [routerLink]="'/joblisting'"
      (click)="searchClient()"
    >
      <i class="pi pi-search text-white text-xl"></i>
      <span class="mx-auto text-xl md:text-lg">Search</span>
    </button>
  </div>
  } @if (!isRoute('auth')) {
  <div class="shadow-3 w-full">
    <hr style="padding: 0; margin: 0" class="x-black25" />
  </div>
  }
</header>
