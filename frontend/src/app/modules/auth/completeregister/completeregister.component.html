<section class="flex justify-content-center">
  <div
    class="w-full border-1 shadow-2 mx-1 border-gray-300 border-round-2xl flex align-items-center flex-column"
    style="max-width: 40rem; padding: 55px 0px 55px 0px"
  >
    <div class="text-md mb-1 x-black75" style="font-family: poppins">
      Fill the following Form
    </div>
    <h5 class="title text-2xl mb-5">Complete your Registration</h5>

    <form [formGroup]="CompleteRegForm" (submit)="submitForm()">
      <!-- NAME -->
      <div class="flex justify-content-between gap-1">
        <!-- FIRST NAME -->
        <div class="mb-4">
          <input
            type="text"
            class="w-full"
            id="fname"
            pInputText
            formControlName="fname"
            placeholder="First Name"
          />
          <small
            class="block p-error"
            *ngIf="fname.invalid && (fname.dirty || fname.touched)"
          >
            <span *ngIf="fname.errors?.['required']"
              >First name should not be empty</span
            >
            <span *ngIf="fname.errors?.['pattern']"
              >First name should be valid</span
            >
          </small>
        </div>

        <!-- LAST NAME -->
        <div class="mb-4">
          <input
            type="text"
            class="w-full"
            id="lname"
            pInputText
            formControlName="lname"
            placeholder="Last Name"
          />
          <small
            class="block p-error"
            *ngIf="lname.invalid && (lname.dirty || lname.touched)"
          >
            <span *ngIf="lname.errors?.['required']"
              >Last name should not be empty</span
            >
            <span *ngIf="lname.errors?.['pattern']"
              >Last name should be valid</span
            >
          </small>
        </div>
      </div>

      <!-- COUNTRY -->
      <div class="mb-4">
        <p-autoComplete
          formControlName="country"
          [suggestions]="suggestions"
          (completeMethod)="search($event)"
          placeholder="Country"
          [inputStyle]="{
            width: '100%'
          }"
          [style]="{
            width: '100%'
          }"
        ></p-autoComplete>
        <small
          class="block p-error"
          *ngIf="country.invalid && (country.dirty || country.touched)"
        >
          Country should not be empty
        </small>
      </div>

      <!-- Address -->
      <div class="mb-4">
        <input
          type="text"
          class="w-full"
          id="address"
          pInputText
          formControlName="address"
          placeholder="address"
        />
        <small
          class="block p-error"
          *ngIf="address.invalid && (address.dirty || address.touched)"
        >
          Address should not be empty
        </small>
      </div>

      <!-- PASSWORD -->
      <div class="mb-4">
        <input
          type="password"
          class="w-full"
          id="password"
          pInputText
          formControlName="password"
          placeholder="Password"
        />
        <small
          class="block p-error"
          *ngIf="password.invalid && (password.dirty || password.touched)"
        >
          <span *ngIf="password.errors?.['required']"
            >Password should not be empty</span
          >
          <span *ngIf="password.errors?.['minlength']"
            >Password should be more than 8 letters</span
          >
        </small>
      </div>

      <!--CONFIRM PASSWORD -->
      <div class="mb-4">
        <input
          type="password"
          class="w-full"
          id="confirmPassword"
          pInputText
          formControlName="confirmPassword"
          placeholder="Confirm Password"
        />
        <small
          class="block p-error"
          *ngIf="
            confirmPassword.invalid &&
            (confirmPassword.dirty || confirmPassword.touched)
          "
        >
          <span *ngIf="confirmPassword.errors?.['required']"
            >Confirm Password should not be empty</span
          >
          <span *ngIf="confirmPassword.errors?.['minlength']"
            >Confirm Password should be more than 8 letters</span
          >
        </small>

        <!-- PASSWORD MISMATCH ERROR -->
        <small>
          <span
            class="block p-error"
            *ngIf="CompleteRegForm.errors?.['passwordMismatch'] && confirmPassword.valid && password.valid"
          >
            password should match
          </span>
        </small>
      </div>

      <!-- I WANT TO -->
      <div class="mb-6">
        <div class="text-center font-semibold">I want to</div>
        <div class="flex mt-3">
          <button
            name="client"
            type="button"
            class="w-full justify-content-center text-lg border-round-left cursor-pointer"
            [ngClass]="{
              ' x-bg-primary border-none text-white': accountType === 'client',
              ' bg-transparent border-2 x-black75 border-right-none  border-gray-400':
                accountType !== 'client'
            }"
            style="padding: 0.7rem 0"
            (click)="handleAccountType($event)"
          >
            Hire a Worker
          </button>
          <button
            name="serviceProvider"
            type="button"
            class="w-full justify-content-center text-lg border-round-right text-lg cursor-pointer"
            [ngClass]="{
              ' x-bg-primary border-none text-white':
                accountType === 'serviceProvider',
              ' bg-transparent border-2 x-black75 border-left-none  border-gray-400 ':
                accountType !== 'serviceProvider'
            }"
            style="padding: 0.7rem 0"
            (click)="handleAccountType($event)"
          >
            Be a Service Provider
          </button>
        </div>
      </div>

      <!-- CONTINUE -->
      <div class="mb-4">
        <button
          type="submit"
          [disabled]="CompleteRegForm.invalid"
          class="p-button x-bg-primary border-teal-400 w-full justify-content-center text-xl"
          [ngClass]="{
            'opacity-20': CompleteRegForm.invalid
          }"
        >
          Continue
        </button>
      </div>
    </form>
  </div>
</section>
